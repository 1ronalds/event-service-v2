[INFO ] 2023-02-01 14:05:25.513 [Test worker] UserController - findUserDetails controller method called with parameter username: AdminUser
[INFO ] 2023-02-01 14:06:23.284 [Test worker] SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [eventservice.eventservice.integration.UserIntegrationTest], using SpringBootContextLoader
[INFO ] 2023-02-01 14:06:23.329 [Test worker] AbstractContextLoader - Could not detect default resource locations for test class [eventservice.eventservice.integration.UserIntegrationTest]: no resource found for suffixes {-context.xml, Context.groovy}.
[INFO ] 2023-02-01 14:06:23.330 [Test worker] AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [eventservice.eventservice.integration.UserIntegrationTest]: UserIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO ] 2023-02-01 14:06:23.514 [Test worker] SpringBootTestContextBootstrapper - Found @SpringBootConfiguration eventservice.eventservice.EventServiceApplication for test class eventservice.eventservice.integration.UserIntegrationTest
[INFO ] 2023-02-01 14:06:23.662 [Test worker] SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
[INFO ] 2023-02-01 14:06:23.686 [Test worker] SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@749ab7b4, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@127f9161, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@2bf94401, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2532b351, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@4349754, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6a2eea2a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@b967222, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3b0ee03a, org.springframework.test.context.event.EventPublishingTestExecutionListener@1ba05e38, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6c298dc, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3e7dfd44, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@723ed581, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6b760460, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@796065aa, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@28a6301f]
[INFO ] 2023-02-01 14:06:24.201 [background-preinit] Version - HV000001: Hibernate Validator 6.2.5.Final
[INFO ] 2023-02-01 14:06:24.276 [Test worker] UserIntegrationTest - Starting UserIntegrationTest using Java 17.0.4.1 on LVAGPLTP4099 with PID 15980 (started by ronalds.norvezs in C:\Users\ronalds.norvezs\Documents\event-service-v2\event-service-v2)
[INFO ] 2023-02-01 14:06:24.281 [Test worker] UserIntegrationTest - No active profile set, falling back to 1 default profile: "default"
[INFO ] 2023-02-01 14:06:26.354 [Test worker] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2023-02-01 14:06:26.528 [Test worker] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 157 ms. Found 3 JPA repository interfaces.
[INFO ] 2023-02-01 14:06:27.066 [Test worker] GenericScope - BeanFactory id=ddf6b29b-c4b0-38c3-b6b4-5e64efa09b5a
[INFO ] 2023-02-01 14:06:27.892 [Test worker] VersionPrinter - Flyway Community Edition 8.5.13 by Redgate
[INFO ] 2023-02-01 14:06:27.892 [Test worker] VersionPrinter - See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
[INFO ] 2023-02-01 14:06:27.893 [Test worker] VersionPrinter - 
[INFO ] 2023-02-01 14:06:28.632 [Test worker] BaseDatabaseType - Database: jdbc:mysql://localhost:3306/eventdb (MySQL 8.0)
[INFO ] 2023-02-01 14:06:28.770 [Test worker] DbValidate - Successfully validated 7 migrations (execution time 00:00.073s)
[INFO ] 2023-02-01 14:06:28.799 [Test worker] DbMigrate - Current version of schema `eventdb`: 1.0.7
[INFO ] 2023-02-01 14:06:28.801 [Test worker] DbMigrate - Schema `eventdb` is up to date. No migration necessary.
[INFO ] 2023-02-01 14:06:29.062 [Test worker] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2023-02-01 14:06:29.226 [Test worker] Version - HHH000412: Hibernate ORM core version 5.6.14.Final
[INFO ] 2023-02-01 14:06:29.577 [Test worker] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2023-02-01 14:06:29.895 [Test worker] Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
[INFO ] 2023-02-01 14:06:31.137 [Test worker] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2023-02-01 14:06:31.151 [Test worker] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2023-02-01 14:06:32.224 [Test worker] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2023-02-01 14:06:34.559 [Test worker] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@269fe2fe, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1635e239, org.springframework.security.web.context.SecurityContextPersistenceFilter@67954d71, org.springframework.security.web.header.HeaderWriterFilter@32a7c583, org.springframework.web.filter.CorsFilter@5d27a744, org.springframework.security.web.authentication.logout.LogoutFilter@3a4181ba, eventservice.eventservice.security.JwtTokenFilter@548e70f0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@ebcf6c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@438fcca3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41185195, org.springframework.security.web.session.SessionManagementFilter@2296926d, org.springframework.security.web.access.ExceptionTranslationFilter@6c152246, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@16488ed7]
[INFO ] 2023-02-01 14:06:36.027 [Test worker] SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2023-02-01 14:06:36.027 [Test worker] TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2023-02-01 14:06:36.030 [Test worker] TestDispatcherServlet - Completed initialization in 2 ms
[INFO ] 2023-02-01 14:06:36.881 [Test worker] UserIntegrationTest - Started UserIntegrationTest in 13.13 seconds (JVM running for 15.463)
[INFO ] 2023-02-01 14:06:36.943 [Test worker] TransactionContext - Began transaction (1) for test context [DefaultTestContext@1f9b8c23 testClass = UserIntegrationTest, testInstance = eventservice.eventservice.integration.UserIntegrationTest@6b297a62, testMethod = findUserDetails@UserIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@11303cb testClass = UserIntegrationTest, locations = '{}', classes = '{class eventservice.eventservice.EventServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@2237bada, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa09d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@777c9dc9, [ImportsContextCustomizer@655e3f4c key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@37ff4054, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@74cf8b28, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@2617f816, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@52b1beb6], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@69dc0dd1]; rollback [true]
[INFO ] 2023-02-01 14:06:59.638 [Test worker] TransactionContext - Rolled back transaction for test: [DefaultTestContext@1f9b8c23 testClass = UserIntegrationTest, testInstance = eventservice.eventservice.integration.UserIntegrationTest@6b297a62, testMethod = findUserDetails@UserIntegrationTest, testException = java.lang.IllegalStateException: Failed to unwrap proxied object, mergedContextConfiguration = [WebMergedContextConfiguration@11303cb testClass = UserIntegrationTest, locations = '{}', classes = '{class eventservice.eventservice.EventServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@2237bada, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa09d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@777c9dc9, [ImportsContextCustomizer@655e3f4c key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@37ff4054, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@74cf8b28, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@2617f816, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@52b1beb6], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2023-02-01 14:09:45.886 [Test worker] SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [eventservice.eventservice.integration.UserIntegrationTest], using SpringBootContextLoader
[INFO ] 2023-02-01 14:09:45.913 [Test worker] AbstractContextLoader - Could not detect default resource locations for test class [eventservice.eventservice.integration.UserIntegrationTest]: no resource found for suffixes {-context.xml, Context.groovy}.
[INFO ] 2023-02-01 14:09:45.915 [Test worker] AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [eventservice.eventservice.integration.UserIntegrationTest]: UserIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO ] 2023-02-01 14:09:46.161 [Test worker] SpringBootTestContextBootstrapper - Found @SpringBootConfiguration eventservice.eventservice.EventServiceApplication for test class eventservice.eventservice.integration.UserIntegrationTest
[INFO ] 2023-02-01 14:09:46.362 [Test worker] SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
[INFO ] 2023-02-01 14:09:46.389 [Test worker] SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@749ab7b4, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@127f9161, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@2bf94401, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2532b351, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@4349754, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6a2eea2a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@b967222, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3b0ee03a, org.springframework.test.context.event.EventPublishingTestExecutionListener@1ba05e38, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6c298dc, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3e7dfd44, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@723ed581, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6b760460, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@796065aa, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@28a6301f]
[INFO ] 2023-02-01 14:09:46.969 [background-preinit] Version - HV000001: Hibernate Validator 6.2.5.Final
[INFO ] 2023-02-01 14:09:47.059 [Test worker] UserIntegrationTest - Starting UserIntegrationTest using Java 17.0.4.1 on LVAGPLTP4099 with PID 14744 (started by ronalds.norvezs in C:\Users\ronalds.norvezs\Documents\event-service-v2\event-service-v2)
[INFO ] 2023-02-01 14:09:47.063 [Test worker] UserIntegrationTest - No active profile set, falling back to 1 default profile: "default"
[INFO ] 2023-02-01 14:09:49.375 [Test worker] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2023-02-01 14:09:49.512 [Test worker] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 122 ms. Found 3 JPA repository interfaces.
[INFO ] 2023-02-01 14:09:49.949 [Test worker] GenericScope - BeanFactory id=ddf6b29b-c4b0-38c3-b6b4-5e64efa09b5a
[INFO ] 2023-02-01 14:09:50.680 [Test worker] VersionPrinter - Flyway Community Edition 8.5.13 by Redgate
[INFO ] 2023-02-01 14:09:50.680 [Test worker] VersionPrinter - See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
[INFO ] 2023-02-01 14:09:50.681 [Test worker] VersionPrinter - 
[INFO ] 2023-02-01 14:09:51.364 [Test worker] BaseDatabaseType - Database: jdbc:mysql://localhost:3306/eventdb (MySQL 8.0)
[INFO ] 2023-02-01 14:09:51.485 [Test worker] DbValidate - Successfully validated 7 migrations (execution time 00:00.062s)
[INFO ] 2023-02-01 14:09:51.507 [Test worker] DbMigrate - Current version of schema `eventdb`: 1.0.7
[INFO ] 2023-02-01 14:09:51.508 [Test worker] DbMigrate - Schema `eventdb` is up to date. No migration necessary.
[INFO ] 2023-02-01 14:09:51.789 [Test worker] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2023-02-01 14:09:51.928 [Test worker] Version - HHH000412: Hibernate ORM core version 5.6.14.Final
[INFO ] 2023-02-01 14:09:52.279 [Test worker] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2023-02-01 14:09:52.495 [Test worker] Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
[INFO ] 2023-02-01 14:09:53.637 [Test worker] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2023-02-01 14:09:53.647 [Test worker] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2023-02-01 14:09:54.567 [Test worker] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2023-02-01 14:09:56.427 [Test worker] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@592efd6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33903444, org.springframework.security.web.context.SecurityContextPersistenceFilter@65067d90, org.springframework.security.web.header.HeaderWriterFilter@74ee8f57, org.springframework.web.filter.CorsFilter@6149adee, org.springframework.security.web.authentication.logout.LogoutFilter@6d952747, eventservice.eventservice.security.JwtTokenFilter@1e1f467f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@407956a5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@16c559c7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@36361951, org.springframework.security.web.session.SessionManagementFilter@68330024, org.springframework.security.web.access.ExceptionTranslationFilter@360b6ea1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@44f86613]
[INFO ] 2023-02-01 14:09:57.631 [Test worker] SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2023-02-01 14:09:57.631 [Test worker] TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2023-02-01 14:09:57.635 [Test worker] TestDispatcherServlet - Completed initialization in 3 ms
[INFO ] 2023-02-01 14:09:58.411 [Test worker] UserIntegrationTest - Started UserIntegrationTest in 11.957 seconds (JVM running for 14.862)
[INFO ] 2023-02-01 14:09:58.460 [Test worker] TransactionContext - Began transaction (1) for test context [DefaultTestContext@310045fc testClass = UserIntegrationTest, testInstance = eventservice.eventservice.integration.UserIntegrationTest@ae20523, testMethod = editUserDetailsNonexistentUser@UserIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a282c78 testClass = UserIntegrationTest, locations = '{}', classes = '{class eventservice.eventservice.EventServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@2237bada, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa09d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@777c9dc9, [ImportsContextCustomizer@2700609f key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@37ff4054, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@74cf8b28, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@2617f816, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@52b1beb6], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@2d17b6ad]; rollback [true]
[INFO ] 2023-02-01 14:10:20.278 [Test worker] TransactionContext - Rolled back transaction for test: [DefaultTestContext@310045fc testClass = UserIntegrationTest, testInstance = eventservice.eventservice.integration.UserIntegrationTest@ae20523, testMethod = editUserDetailsNonexistentUser@UserIntegrationTest, testException = java.lang.IllegalStateException: Failed to unwrap proxied object, mergedContextConfiguration = [WebMergedContextConfiguration@4a282c78 testClass = UserIntegrationTest, locations = '{}', classes = '{class eventservice.eventservice.EventServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@2237bada, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa09d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@777c9dc9, [ImportsContextCustomizer@2700609f key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@37ff4054, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@74cf8b28, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@2617f816, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@52b1beb6], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2023-02-01 14:16:19.545 [Test worker] SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [eventservice.eventservice.integration.UserIntegrationTest], using SpringBootContextLoader
[INFO ] 2023-02-01 14:16:19.557 [Test worker] AbstractContextLoader - Could not detect default resource locations for test class [eventservice.eventservice.integration.UserIntegrationTest]: no resource found for suffixes {-context.xml, Context.groovy}.
[INFO ] 2023-02-01 14:16:19.559 [Test worker] AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [eventservice.eventservice.integration.UserIntegrationTest]: UserIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO ] 2023-02-01 14:16:19.697 [Test worker] SpringBootTestContextBootstrapper - Found @SpringBootConfiguration eventservice.eventservice.EventServiceApplication for test class eventservice.eventservice.integration.UserIntegrationTest
[INFO ] 2023-02-01 14:16:19.819 [Test worker] SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
[INFO ] 2023-02-01 14:16:19.838 [Test worker] SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@749ab7b4, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@127f9161, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@2bf94401, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2532b351, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@4349754, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6a2eea2a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@b967222, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3b0ee03a, org.springframework.test.context.event.EventPublishingTestExecutionListener@1ba05e38, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6c298dc, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3e7dfd44, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@723ed581, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6b760460, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@796065aa, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@28a6301f]
[INFO ] 2023-02-01 14:16:20.295 [background-preinit] Version - HV000001: Hibernate Validator 6.2.5.Final
[INFO ] 2023-02-01 14:16:20.369 [Test worker] UserIntegrationTest - Starting UserIntegrationTest using Java 17.0.4.1 on LVAGPLTP4099 with PID 896 (started by ronalds.norvezs in C:\Users\ronalds.norvezs\Documents\event-service-v2\event-service-v2)
[INFO ] 2023-02-01 14:16:20.373 [Test worker] UserIntegrationTest - No active profile set, falling back to 1 default profile: "default"
[INFO ] 2023-02-01 14:16:21.871 [Test worker] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2023-02-01 14:16:21.980 [Test worker] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 99 ms. Found 3 JPA repository interfaces.
[INFO ] 2023-02-01 14:16:22.379 [Test worker] GenericScope - BeanFactory id=ddf6b29b-c4b0-38c3-b6b4-5e64efa09b5a
[INFO ] 2023-02-01 14:16:23.016 [Test worker] VersionPrinter - Flyway Community Edition 8.5.13 by Redgate
[INFO ] 2023-02-01 14:16:23.017 [Test worker] VersionPrinter - See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
[INFO ] 2023-02-01 14:16:23.017 [Test worker] VersionPrinter - 
[INFO ] 2023-02-01 14:16:23.425 [Test worker] BaseDatabaseType - Database: jdbc:mysql://localhost:3306/eventdb (MySQL 8.0)
[INFO ] 2023-02-01 14:16:23.514 [Test worker] DbValidate - Successfully validated 7 migrations (execution time 00:00.048s)
[INFO ] 2023-02-01 14:16:23.535 [Test worker] DbMigrate - Current version of schema `eventdb`: 1.0.7
[INFO ] 2023-02-01 14:16:23.537 [Test worker] DbMigrate - Schema `eventdb` is up to date. No migration necessary.
[INFO ] 2023-02-01 14:16:23.737 [Test worker] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2023-02-01 14:16:23.829 [Test worker] Version - HHH000412: Hibernate ORM core version 5.6.14.Final
[INFO ] 2023-02-01 14:16:24.067 [Test worker] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2023-02-01 14:16:24.268 [Test worker] Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
[INFO ] 2023-02-01 14:16:25.187 [Test worker] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2023-02-01 14:16:25.199 [Test worker] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2023-02-01 14:16:25.974 [Test worker] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2023-02-01 14:16:27.448 [Test worker] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2c9616bb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@269fe2fe, org.springframework.security.web.context.SecurityContextPersistenceFilter@7ae3591b, org.springframework.security.web.header.HeaderWriterFilter@16c559c7, org.springframework.web.filter.CorsFilter@1635e239, org.springframework.security.web.authentication.logout.LogoutFilter@1895f7fe, eventservice.eventservice.security.JwtTokenFilter@724e82d9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e774194, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ebcf6c0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d27a744, org.springframework.security.web.session.SessionManagementFilter@3e49adfa, org.springframework.security.web.access.ExceptionTranslationFilter@7f0b32c0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@24c8bc1e]
[INFO ] 2023-02-01 14:16:28.595 [Test worker] SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2023-02-01 14:16:28.595 [Test worker] TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2023-02-01 14:16:28.597 [Test worker] TestDispatcherServlet - Completed initialization in 2 ms
[INFO ] 2023-02-01 14:16:29.395 [Test worker] UserIntegrationTest - Started UserIntegrationTest in 9.504 seconds (JVM running for 11.667)
[INFO ] 2023-02-01 14:16:29.453 [Test worker] TransactionContext - Began transaction (1) for test context [DefaultTestContext@1f9b8c23 testClass = UserIntegrationTest, testInstance = eventservice.eventservice.integration.UserIntegrationTest@6b297a62, testMethod = editUserDetailsNonexistentUser@UserIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@11303cb testClass = UserIntegrationTest, locations = '{}', classes = '{class eventservice.eventservice.EventServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@2237bada, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa09d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@777c9dc9, [ImportsContextCustomizer@655e3f4c key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@37ff4054, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@74cf8b28, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@2617f816, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@52b1beb6], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@61aaec51]; rollback [true]
[INFO ] 2023-02-01 14:16:53.371 [Test worker] TransactionContext - Rolled back transaction for test: [DefaultTestContext@1f9b8c23 testClass = UserIntegrationTest, testInstance = eventservice.eventservice.integration.UserIntegrationTest@6b297a62, testMethod = editUserDetailsNonexistentUser@UserIntegrationTest, testException = java.lang.IllegalStateException: Failed to unwrap proxied object, mergedContextConfiguration = [WebMergedContextConfiguration@11303cb testClass = UserIntegrationTest, locations = '{}', classes = '{class eventservice.eventservice.EventServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@2237bada, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa09d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@777c9dc9, [ImportsContextCustomizer@655e3f4c key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@37ff4054, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@74cf8b28, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@2617f816, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@52b1beb6], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
[INFO ] 2023-02-01 14:20:48.975 [Test worker] SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [eventservice.eventservice.integration.CountryCityIntegrationTest], using SpringBootContextLoader
[INFO ] 2023-02-01 14:20:48.997 [Test worker] AbstractContextLoader - Could not detect default resource locations for test class [eventservice.eventservice.integration.CountryCityIntegrationTest]: no resource found for suffixes {-context.xml, Context.groovy}.
[INFO ] 2023-02-01 14:20:48.999 [Test worker] AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [eventservice.eventservice.integration.CountryCityIntegrationTest]: CountryCityIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO ] 2023-02-01 14:20:49.215 [Test worker] SpringBootTestContextBootstrapper - Found @SpringBootConfiguration eventservice.eventservice.EventServiceApplication for test class eventservice.eventservice.integration.CountryCityIntegrationTest
[INFO ] 2023-02-01 14:20:49.379 [Test worker] SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
[INFO ] 2023-02-01 14:20:49.399 [Test worker] SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7e9da981, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4ed38226, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3d43fe, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@74ad8d05, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@676ff3b0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@35ff8fc9, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5fb7183b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@476a736d, org.springframework.test.context.event.EventPublishingTestExecutionListener@5f80fa43, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@16c8b7bd, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7159139f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@65bcf7c2, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3db64bd4, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6e106680, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@576c5536]
[INFO ] 2023-02-01 14:20:49.883 [background-preinit] Version - HV000001: Hibernate Validator 6.2.5.Final
[INFO ] 2023-02-01 14:20:49.946 [Test worker] CountryCityIntegrationTest - Starting CountryCityIntegrationTest using Java 17.0.4.1 on LVAGPLTP4099 with PID 5932 (started by ronalds.norvezs in C:\Users\ronalds.norvezs\Documents\event-service-v2\event-service-v2)
[INFO ] 2023-02-01 14:20:49.949 [Test worker] CountryCityIntegrationTest - No active profile set, falling back to 1 default profile: "default"
[INFO ] 2023-02-01 14:20:51.508 [Test worker] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2023-02-01 14:20:51.622 [Test worker] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 103 ms. Found 3 JPA repository interfaces.
[INFO ] 2023-02-01 14:20:52.100 [Test worker] GenericScope - BeanFactory id=ddf6b29b-c4b0-38c3-b6b4-5e64efa09b5a
[INFO ] 2023-02-01 14:20:54.551 [Test worker] VersionPrinter - Flyway Community Edition 8.5.13 by Redgate
[INFO ] 2023-02-01 14:20:54.551 [Test worker] VersionPrinter - See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
[INFO ] 2023-02-01 14:20:54.552 [Test worker] VersionPrinter - 
[INFO ] 2023-02-01 14:20:55.180 [Test worker] BaseDatabaseType - Database: jdbc:mysql://localhost:3306/eventdb (MySQL 8.0)
[INFO ] 2023-02-01 14:20:55.309 [Test worker] DbValidate - Successfully validated 7 migrations (execution time 00:00.067s)
[INFO ] 2023-02-01 14:20:55.334 [Test worker] DbMigrate - Current version of schema `eventdb`: 1.0.7
[INFO ] 2023-02-01 14:20:55.336 [Test worker] DbMigrate - Schema `eventdb` is up to date. No migration necessary.
[INFO ] 2023-02-01 14:20:55.610 [Test worker] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2023-02-01 14:20:55.726 [Test worker] Version - HHH000412: Hibernate ORM core version 5.6.14.Final
[INFO ] 2023-02-01 14:20:55.810 [Test worker] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2023-02-01 14:20:56.087 [Test worker] Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
[INFO ] 2023-02-01 14:20:57.099 [Test worker] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2023-02-01 14:20:57.110 [Test worker] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2023-02-01 14:20:59.335 [Test worker] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2023-02-01 14:21:00.426 [Test worker] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4fbbfea6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bf8ea44, org.springframework.security.web.context.SecurityContextPersistenceFilter@37edb7fa, org.springframework.security.web.header.HeaderWriterFilter@749ebc39, org.springframework.web.filter.CorsFilter@1ccf1819, org.springframework.security.web.authentication.logout.LogoutFilter@445265b0, eventservice.eventservice.security.JwtTokenFilter@4b682e71, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4ba04fb4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11a8735d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4a6ac443, org.springframework.security.web.session.SessionManagementFilter@c581e65, org.springframework.security.web.access.ExceptionTranslationFilter@5a98983b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7beb2bc2]
[INFO ] 2023-02-01 14:21:01.715 [Test worker] SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2023-02-01 14:21:01.716 [Test worker] TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2023-02-01 14:21:01.718 [Test worker] TestDispatcherServlet - Completed initialization in 2 ms
[INFO ] 2023-02-01 14:21:02.605 [Test worker] CountryCityIntegrationTest - Started CountryCityIntegrationTest in 13.141 seconds (JVM running for 15.495)
[INFO ] 2023-02-01 14:21:42.824 [background-preinit] Version - HV000001: Hibernate Validator 6.2.5.Final
[INFO ] 2023-02-01 14:21:42.912 [main] EventServiceApplication - Starting EventServiceApplication using Java 17.0.4.1 on LVAGPLTP4099 with PID 21440 (C:\Users\ronalds.norvezs\Documents\event-service-v2\event-service-v2\build\classes\java\main started by ronalds.norvezs in C:\Users\ronalds.norvezs\Documents\event-service-v2\event-service-v2)
[INFO ] 2023-02-01 14:21:42.918 [main] EventServiceApplication - No active profile set, falling back to 1 default profile: "default"
[INFO ] 2023-02-01 14:21:45.157 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2023-02-01 14:21:45.301 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 129 ms. Found 3 JPA repository interfaces.
[INFO ] 2023-02-01 14:21:45.752 [main] GenericScope - BeanFactory id=56d4fc89-cc4a-342a-b335-317228b8f05c
[INFO ] 2023-02-01 14:21:46.688 [main] TomcatWebServer - Tomcat initialized with port(s): 10000 (http)
[INFO ] 2023-02-01 14:21:47.063 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4064 ms
[INFO ] 2023-02-01 14:21:47.372 [main] VersionPrinter - Flyway Community Edition 8.5.13 by Redgate
[INFO ] 2023-02-01 14:21:47.372 [main] VersionPrinter - See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
[INFO ] 2023-02-01 14:21:47.372 [main] VersionPrinter - 
[INFO ] 2023-02-01 14:21:48.131 [main] BaseDatabaseType - Database: jdbc:mysql://localhost:3306/eventdb (MySQL 8.0)
[INFO ] 2023-02-01 14:21:48.269 [main] DbValidate - Successfully validated 7 migrations (execution time 00:00.077s)
[INFO ] 2023-02-01 14:21:48.296 [main] DbMigrate - Current version of schema `eventdb`: 1.0.7
[INFO ] 2023-02-01 14:21:48.298 [main] DbMigrate - Schema `eventdb` is up to date. No migration necessary.
[INFO ] 2023-02-01 14:21:48.569 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2023-02-01 14:21:48.686 [main] Version - HHH000412: Hibernate ORM core version 5.6.14.Final
[INFO ] 2023-02-01 14:21:49.018 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2023-02-01 14:21:49.231 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
[INFO ] 2023-02-01 14:21:50.194 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2023-02-01 14:21:50.204 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2023-02-01 14:21:50.944 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2023-02-01 14:21:51.868 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@d9ff1cd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2c64ee53, org.springframework.security.web.context.SecurityContextPersistenceFilter@3e7935f1, org.springframework.security.web.header.HeaderWriterFilter@4ce5013a, org.springframework.web.filter.CorsFilter@77c7d3f4, org.springframework.security.web.authentication.logout.LogoutFilter@53d94a6b, eventservice.eventservice.security.JwtTokenFilter@677cb96e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@9751c9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c1bcea1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@162c89ac, org.springframework.security.web.session.SessionManagementFilter@6edd80fe, org.springframework.security.web.access.ExceptionTranslationFilter@56a63c28, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3b4cce5a]
[INFO ] 2023-02-01 14:21:52.693 [main] TomcatWebServer - Tomcat started on port(s): 10000 (http) with context path '/api/event-service'
[INFO ] 2023-02-01 14:21:52.832 [http-nio-10000-exec-2] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2023-02-01 14:21:52.835 [http-nio-10000-exec-2] DispatcherServlet - Completed initialization in 2 ms
[INFO ] 2023-02-01 14:21:53.673 [main] EventServiceApplication - Started EventServiceApplication in 11.534 seconds (JVM running for 12.939)
[INFO ] 2023-02-01 14:22:07.246 [http-nio-10000-exec-7] AuthenticationController - authenticateUser() controller method called
[INFO ] 2023-02-01 14:22:07.247 [http-nio-10000-exec-7] AuthenticationServiceImpl - authenticate() service method called
[INFO ] 2023-02-01 14:22:20.238 [http-nio-10000-exec-8] AdminController - Controller method findAllUsernames() called
[INFO ] 2023-02-01 14:22:20.238 [http-nio-10000-exec-8] AdminServiceImpl - Service method findAllUsernames() called
[INFO ] 2023-02-01 14:23:29.076 [Test worker] SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [eventservice.eventservice.integration.UserIntegrationTest], using SpringBootContextLoader
[INFO ] 2023-02-01 14:23:29.093 [Test worker] AbstractContextLoader - Could not detect default resource locations for test class [eventservice.eventservice.integration.UserIntegrationTest]: no resource found for suffixes {-context.xml, Context.groovy}.
[INFO ] 2023-02-01 14:23:29.094 [Test worker] AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [eventservice.eventservice.integration.UserIntegrationTest]: UserIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO ] 2023-02-01 14:23:29.274 [Test worker] SpringBootTestContextBootstrapper - Found @SpringBootConfiguration eventservice.eventservice.EventServiceApplication for test class eventservice.eventservice.integration.UserIntegrationTest
[INFO ] 2023-02-01 14:23:29.421 [Test worker] SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
[INFO ] 2023-02-01 14:23:29.441 [Test worker] SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@749ab7b4, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@127f9161, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@2bf94401, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2532b351, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@4349754, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6a2eea2a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@b967222, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3b0ee03a, org.springframework.test.context.event.EventPublishingTestExecutionListener@1ba05e38, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6c298dc, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3e7dfd44, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@723ed581, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6b760460, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@796065aa, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@28a6301f]
[INFO ] 2023-02-01 14:23:29.918 [background-preinit] Version - HV000001: Hibernate Validator 6.2.5.Final
[INFO ] 2023-02-01 14:23:29.987 [Test worker] UserIntegrationTest - Starting UserIntegrationTest using Java 17.0.4.1 on LVAGPLTP4099 with PID 24784 (started by ronalds.norvezs in C:\Users\ronalds.norvezs\Documents\event-service-v2\event-service-v2)
[INFO ] 2023-02-01 14:23:29.991 [Test worker] UserIntegrationTest - No active profile set, falling back to 1 default profile: "default"
[INFO ] 2023-02-01 14:23:31.396 [Test worker] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2023-02-01 14:23:31.503 [Test worker] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 97 ms. Found 3 JPA repository interfaces.
[INFO ] 2023-02-01 14:23:31.864 [Test worker] GenericScope - BeanFactory id=ddf6b29b-c4b0-38c3-b6b4-5e64efa09b5a
[INFO ] 2023-02-01 14:23:32.423 [Test worker] VersionPrinter - Flyway Community Edition 8.5.13 by Redgate
[INFO ] 2023-02-01 14:23:32.423 [Test worker] VersionPrinter - See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
[INFO ] 2023-02-01 14:23:32.423 [Test worker] VersionPrinter - 
[INFO ] 2023-02-01 14:23:32.827 [Test worker] BaseDatabaseType - Database: jdbc:mysql://localhost:3306/eventdb (MySQL 8.0)
[INFO ] 2023-02-01 14:23:32.906 [Test worker] DbValidate - Successfully validated 7 migrations (execution time 00:00.039s)
[INFO ] 2023-02-01 14:23:32.923 [Test worker] DbMigrate - Current version of schema `eventdb`: 1.0.7
[INFO ] 2023-02-01 14:23:32.925 [Test worker] DbMigrate - Schema `eventdb` is up to date. No migration necessary.
[INFO ] 2023-02-01 14:23:33.109 [Test worker] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2023-02-01 14:23:33.193 [Test worker] Version - HHH000412: Hibernate ORM core version 5.6.14.Final
[INFO ] 2023-02-01 14:23:33.440 [Test worker] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2023-02-01 14:23:33.641 [Test worker] Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
[INFO ] 2023-02-01 14:23:34.709 [Test worker] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2023-02-01 14:23:34.720 [Test worker] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2023-02-01 14:23:35.627 [Test worker] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2023-02-01 14:23:37.228 [Test worker] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@25f3207e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d587c73, org.springframework.security.web.context.SecurityContextPersistenceFilter@24a5ddd7, org.springframework.security.web.header.HeaderWriterFilter@5d5b07e9, org.springframework.web.filter.CorsFilter@7220ff10, org.springframework.security.web.authentication.logout.LogoutFilter@6e774194, eventservice.eventservice.security.JwtTokenFilter@3d5009c0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@627222d8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68330024, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@776eb512, org.springframework.security.web.session.SessionManagementFilter@5c452e69, org.springframework.security.web.access.ExceptionTranslationFilter@1368e451, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7a1587e8]
[INFO ] 2023-02-01 14:23:38.486 [Test worker] SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2023-02-01 14:23:38.487 [Test worker] TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2023-02-01 14:23:38.490 [Test worker] TestDispatcherServlet - Completed initialization in 3 ms
[INFO ] 2023-02-01 14:23:39.370 [Test worker] UserIntegrationTest - Started UserIntegrationTest in 9.872 seconds (JVM running for 12.093)
[INFO ] 2023-02-01 14:23:39.427 [Test worker] TransactionContext - Began transaction (1) for test context [DefaultTestContext@141cee26 testClass = UserIntegrationTest, testInstance = eventservice.eventservice.integration.UserIntegrationTest@ecd3a9b, testMethod = findUserDetails@UserIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@58d9cd6 testClass = UserIntegrationTest, locations = '{}', classes = '{class eventservice.eventservice.EventServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@2237bada, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa09d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@777c9dc9, [ImportsContextCustomizer@21ad0060 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@37ff4054, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@74cf8b28, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@2617f816, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@52b1beb6], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@204d101]; rollback [true]
[INFO ] 2023-02-01 14:23:59.901 [background-preinit] Version - HV000001: Hibernate Validator 6.2.5.Final
[INFO ] 2023-02-01 14:23:59.983 [main] EventServiceApplication - Starting EventServiceApplication using Java 17.0.4.1 on LVAGPLTP4099 with PID 7732 (C:\Users\ronalds.norvezs\Documents\event-service-v2\event-service-v2\build\classes\java\main started by ronalds.norvezs in C:\Users\ronalds.norvezs\Documents\event-service-v2\event-service-v2)
[INFO ] 2023-02-01 14:23:59.990 [main] EventServiceApplication - No active profile set, falling back to 1 default profile: "default"
[INFO ] 2023-02-01 14:24:02.492 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2023-02-01 14:24:02.691 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 181 ms. Found 3 JPA repository interfaces.
[INFO ] 2023-02-01 14:24:03.165 [main] GenericScope - BeanFactory id=56d4fc89-cc4a-342a-b335-317228b8f05c
[INFO ] 2023-02-01 14:24:04.014 [main] TomcatWebServer - Tomcat initialized with port(s): 10000 (http)
[INFO ] 2023-02-01 14:24:04.369 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4291 ms
[INFO ] 2023-02-01 14:24:04.686 [main] VersionPrinter - Flyway Community Edition 8.5.13 by Redgate
[INFO ] 2023-02-01 14:24:04.687 [main] VersionPrinter - See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
[INFO ] 2023-02-01 14:24:04.687 [main] VersionPrinter - 
[INFO ] 2023-02-01 14:24:05.207 [main] BaseDatabaseType - Database: jdbc:mysql://localhost:3306/eventdb (MySQL 8.0)
[INFO ] 2023-02-01 14:24:05.296 [main] DbValidate - Successfully validated 7 migrations (execution time 00:00.052s)
[INFO ] 2023-02-01 14:24:05.319 [main] DbMigrate - Current version of schema `eventdb`: 1.0.7
[INFO ] 2023-02-01 14:24:05.321 [main] DbMigrate - Schema `eventdb` is up to date. No migration necessary.
[INFO ] 2023-02-01 14:24:05.524 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2023-02-01 14:24:05.622 [main] Version - HHH000412: Hibernate ORM core version 5.6.14.Final
[INFO ] 2023-02-01 14:24:05.913 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2023-02-01 14:24:06.143 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
[INFO ] 2023-02-01 14:24:07.276 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2023-02-01 14:24:07.286 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2023-02-01 14:24:08.037 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2023-02-01 14:24:08.917 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@644f033d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6f526f91, org.springframework.security.web.context.SecurityContextPersistenceFilter@7bbab46e, org.springframework.security.web.header.HeaderWriterFilter@701153c1, org.springframework.web.filter.CorsFilter@26c349fc, org.springframework.security.web.authentication.logout.LogoutFilter@20dfe8b2, eventservice.eventservice.security.JwtTokenFilter@53cb0bcb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71cdde0c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@23f16852, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@54d0d561, org.springframework.security.web.session.SessionManagementFilter@3c2188b0, org.springframework.security.web.access.ExceptionTranslationFilter@2b01be54, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@22cbbe87]
[INFO ] 2023-02-01 14:24:09.653 [main] TomcatWebServer - Tomcat started on port(s): 10000 (http) with context path '/api/event-service'
[INFO ] 2023-02-01 14:24:10.296 [main] EventServiceApplication - Started EventServiceApplication in 11.032 seconds (JVM running for 12.27)
[INFO ] 2023-02-01 14:24:49.196 [Test worker] SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [eventservice.eventservice.integration.UserIntegrationTest], using SpringBootContextLoader
[INFO ] 2023-02-01 14:24:49.215 [Test worker] AbstractContextLoader - Could not detect default resource locations for test class [eventservice.eventservice.integration.UserIntegrationTest]: no resource found for suffixes {-context.xml, Context.groovy}.
[INFO ] 2023-02-01 14:24:49.217 [Test worker] AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [eventservice.eventservice.integration.UserIntegrationTest]: UserIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO ] 2023-02-01 14:24:49.365 [Test worker] SpringBootTestContextBootstrapper - Found @SpringBootConfiguration eventservice.eventservice.EventServiceApplication for test class eventservice.eventservice.integration.UserIntegrationTest
[INFO ] 2023-02-01 14:24:49.481 [Test worker] SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
[INFO ] 2023-02-01 14:24:49.498 [Test worker] SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@749ab7b4, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@127f9161, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@2bf94401, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2532b351, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@4349754, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6a2eea2a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@b967222, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3b0ee03a, org.springframework.test.context.event.EventPublishingTestExecutionListener@1ba05e38, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6c298dc, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3e7dfd44, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@723ed581, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6b760460, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@796065aa, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@28a6301f]
[INFO ] 2023-02-01 14:24:49.932 [background-preinit] Version - HV000001: Hibernate Validator 6.2.5.Final
[INFO ] 2023-02-01 14:24:50.002 [Test worker] UserIntegrationTest - Starting UserIntegrationTest using Java 17.0.4.1 on LVAGPLTP4099 with PID 23736 (started by ronalds.norvezs in C:\Users\ronalds.norvezs\Documents\event-service-v2\event-service-v2)
[INFO ] 2023-02-01 14:24:50.006 [Test worker] UserIntegrationTest - No active profile set, falling back to 1 default profile: "default"
[INFO ] 2023-02-01 14:24:51.472 [Test worker] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2023-02-01 14:24:51.593 [Test worker] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 108 ms. Found 3 JPA repository interfaces.
[INFO ] 2023-02-01 14:24:51.942 [Test worker] GenericScope - BeanFactory id=ddf6b29b-c4b0-38c3-b6b4-5e64efa09b5a
[INFO ] 2023-02-01 14:24:52.511 [Test worker] VersionPrinter - Flyway Community Edition 8.5.13 by Redgate
[INFO ] 2023-02-01 14:24:52.511 [Test worker] VersionPrinter - See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
[INFO ] 2023-02-01 14:24:52.512 [Test worker] VersionPrinter - 
[INFO ] 2023-02-01 14:24:52.939 [Test worker] BaseDatabaseType - Database: jdbc:mysql://localhost:3306/eventdb (MySQL 8.0)
[INFO ] 2023-02-01 14:24:53.005 [Test worker] DbValidate - Successfully validated 7 migrations (execution time 00:00.035s)
[INFO ] 2023-02-01 14:24:53.020 [Test worker] DbMigrate - Current version of schema `eventdb`: 1.0.7
[INFO ] 2023-02-01 14:24:53.021 [Test worker] DbMigrate - Schema `eventdb` is up to date. No migration necessary.
[INFO ] 2023-02-01 14:24:53.215 [Test worker] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2023-02-01 14:24:53.312 [Test worker] Version - HHH000412: Hibernate ORM core version 5.6.14.Final
[INFO ] 2023-02-01 14:24:53.569 [Test worker] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2023-02-01 14:24:53.720 [Test worker] Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
[INFO ] 2023-02-01 14:24:54.675 [Test worker] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2023-02-01 14:24:54.685 [Test worker] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2023-02-01 14:24:55.473 [Test worker] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2023-02-01 14:24:56.759 [Test worker] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2c9616bb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@269fe2fe, org.springframework.security.web.context.SecurityContextPersistenceFilter@7ae3591b, org.springframework.security.web.header.HeaderWriterFilter@16c559c7, org.springframework.web.filter.CorsFilter@1635e239, org.springframework.security.web.authentication.logout.LogoutFilter@1895f7fe, eventservice.eventservice.security.JwtTokenFilter@724e82d9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e774194, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ebcf6c0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d27a744, org.springframework.security.web.session.SessionManagementFilter@3e49adfa, org.springframework.security.web.access.ExceptionTranslationFilter@7f0b32c0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@24c8bc1e]
[INFO ] 2023-02-01 14:24:58.008 [Test worker] SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
[INFO ] 2023-02-01 14:24:58.009 [Test worker] TestDispatcherServlet - Initializing Servlet ''
[INFO ] 2023-02-01 14:24:58.012 [Test worker] TestDispatcherServlet - Completed initialization in 3 ms
[INFO ] 2023-02-01 14:24:59.056 [Test worker] UserIntegrationTest - Started UserIntegrationTest in 9.512 seconds (JVM running for 11.546)
[INFO ] 2023-02-01 14:24:59.134 [Test worker] TransactionContext - Began transaction (1) for test context [DefaultTestContext@71737478 testClass = UserIntegrationTest, testInstance = eventservice.eventservice.integration.UserIntegrationTest@64001530, testMethod = findUserDetails@UserIntegrationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1f9b8c23 testClass = UserIntegrationTest, locations = '{}', classes = '{class eventservice.eventservice.EventServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@2237bada, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa09d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@777c9dc9, [ImportsContextCustomizer@6b297a62 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@37ff4054, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@74cf8b28, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@2617f816, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@52b1beb6], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1d9db780]; rollback [true]
[INFO ] 2023-02-01 14:25:22.393 [Test worker] TransactionContext - Rolled back transaction for test: [DefaultTestContext@71737478 testClass = UserIntegrationTest, testInstance = eventservice.eventservice.integration.UserIntegrationTest@64001530, testMethod = findUserDetails@UserIntegrationTest, testException = java.lang.IllegalStateException: Failed to unwrap proxied object, mergedContextConfiguration = [WebMergedContextConfiguration@1f9b8c23 testClass = UserIntegrationTest, locations = '{}', classes = '{class eventservice.eventservice.EventServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@2237bada, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa09d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@777c9dc9, [ImportsContextCustomizer@6b297a62 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@37ff4054, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@74cf8b28, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@2617f816, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@52b1beb6], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
